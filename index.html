</head>
<body>
    <h1>Find Hostels</h1>
    <label for="citySelect">Select City:</label>
    <select id="citySelect" onchange="populateAreas()">
        <option value="">Select City</option>
    <option value="">Select a city</option>
    <option value="Bhubaneswar">Bhubaneswar</option>
    <option value="Bangalore">Bangalore</option>
    <option value="Mumbai">Mumbai</option>
    <option value="Chennai">Chennai</option>
    <option value="Delhi">Delhi</option>
    <option value="Hyderabad">Hyderabad</option>
    <option value="Kolkata">Kolkata</option>
    <option value="Patna">Patna</option>
    <option value="Pune">Pune</option>
        <!-- Add more cities as needed -->
    </select>

    <label for="areaSelect">Select Area:</label>
    <select id="areaSelect">
        <option value="">Select Area</option>
        <!-- Areas will be populated based on city selection -->
    </select>

    <button onclick="fetchHostelInfo()">Fetch Hostels</button>

    <div id="hostelInfo"></div>

    <script>
        const cityAreas = {
            "Bhubaneswar": ["Baramunda", "Bargarh Road", "Bhubaneswar Airport", "Chandrasekharpur", "Dumduma", "Jharpada", "Khandagiri", "Kharavela Nagar", "Laxmisagar", "Mancheswar", "Nandan Kanan", "Patia", "Rasulgarh", "Sahid Nagar", "Satya Nagar", "Satyabhamapur", "Sunderpada", "Unit-1", "Unit-2", "VSS Nagar"],
            "Bangalore": ["Anand Nagar", "Banashankari", "Banerghatta Road", "Basavanagudi", "Basaveshwar Nagar", "Bellandur", "BTM Layout", "Chandra Layout", "Cox Town", "Domlur", "Electronic City", "Frazer Town", "HBR Layout", "Hebbal", "Hennur", "HSR Layout", "Indiranagar", "Jeevanbheemanagar", "JP Nagar", "Kadugodi", "Kammanahalli", "Kanakapura Road", "Kengeri", "Koramangala", "Magadi Road", "Mahadevapura", "Malleshwaram", "Marathahalli", "Nagarbhavi", "Peenya", "Rajajinagar", "Richmond Town", "RT Nagar", "Sahakara Nagar", "Sarjapur Road", "Seshadripuram", "Vijayanagar", "Whitefield", "Yelahanka", "Yeshwanthpur"],
            "Mumbai": ["Airoli", "Andheri", "Borivali", "Chakala", "D N Nagar", "Dadar", "Dahisar", "Ghatkopar", "Jogeshwari", "Juhu", "Kalyan", "Kandivali", "Kurla", "Lower Parel", "Matunga", "Mulund", "Navi Mumbai", "Nerul", "Oshiwara", "Parel", "Poonam Nagar", "Saki Naka", "Santa Cruz", "Sion", "Thane", "Vile Parle", "Worli"],
            "Chennai": ["Adyar", "Alandur", "Ambattur", "Anna Nagar", "Ashok Nagar", "Avadi", "Ayanavaram", "Besant Nagar", "Chromepet", "Egmore", "Guindy", "K.K. Nagar", "Kilpauk", "Kotturpuram", "Madhavaram", "Manapakkam", "Mandaveli", "Mogappair", "Nungambakkam", "Pallavaram", "Pazhavanthangal", "Perungudi", "Poonamallee", "Porur", "Purasawalkam", "Royapettah", "Royapuram", "Saidapet", "Saligramam", "Selaiyur", "Tambaram", "Thiruvanmiyur", "Thoraipakkam", "Triplicane", "Ullagaram", "Vadapalani", "Valasaravakkam", "Velachery", "Vepery", "Villivakkam", "Virugambakkam", "West Mambalam"],
            "Delhi": ["Ashok Vihar", "Chanakyapuri", "Defence Colony", "Dwarka", "East of Kailash", "Greater Kailash", "Green Park", "Janakpuri", "Jangpura", "Kalkaji", "Karol Bagh", "Krishna Nagar", "Lajpat Nagar", "Laxmi Nagar", "Mansarovar Garden", "Mayur Vihar", "Model Town", "Naraina", "New Friends Colony", "Panchsheel Park", "Paschim Vihar", "Patel Nagar", "Pitampura", "Preet Vihar", "Punjabi Bagh", "Ramesh Nagar", "Rohini", "Safdarjung Enclave", "Saket", "Sarita Vihar", "Shahdara", "Shalimar Bagh", "Shastri Nagar", "South Extension", "Subhash Nagar", "Vasant Kunj", "Vasant Vihar", "Vikas Puri"],
            "Hyderabad": ["Abids", "Alwal", "Ameerpet", "Attapur", "Banjara Hills", "Begumpet", "Bowenpally", "Chandanagar", "Chikkadpally", "Dilsukhnagar", "Gachibowli", "Himayatnagar", "Hitech City", "Jubilee Hills", "Karkhana", "Kompally", "Kondapur", "Koti", "Kukatpally", "LB Nagar", "Madhapur", "Malakpet", "Malkajgiri", "Manikonda", "Masab Tank", "Mehdipatnam", "Miyapur", "Moosapet", "Nampally", "Nizampet", "Panjagutta", "Patancheru", "Sainikpuri", "Secunderabad", "Shamirpet", "Shamshabad", "Somajiguda", "SR Nagar", "Taranagar", "Tarnaka", "Tolichowki", "Uppal Kalan", "Uppal", "Vanasthalipuram", "Yousufguda"],
            "Kolkata": ["Alipore", "Baguiati", "Ballygunge", "Baranagar", "Barasat", "Barrackpore", "Behala", "Bhowanipore", "Dhakuria", "Elgin Road", "Esplanade", "Garden Reach", "Garia", "Gariahat", "Jadavpur", "Joka", "Kalighat", "Kalyani", "Kankurgachi", "Kestopur", "Khardah", "Lake Town", "Madhyamgram", "Maheshtala", "Maniktala", "Mukundapur", "Patuli", "Phoolbagan", "Rajarhat", "Salt Lake", "Santoshpur", "Shyambazar", "Sonarpur", "Sovabazar", "Taltala", "Tangra", "Ultadanga"],
            "Patna": ["Anisabad", "Ashiana Nagar", "Bailey Road", "Bairiya", "Barh", "Bikram", "Chandmari Road", "Danapur", "Dhanarua", "Digha", "Doctors' Colony", "East Boring Canal Road", "Fatuha", "Fraser Road", "Gardanibagh", "Gola Road", "Indrapuri", "Jagdeo Path", "Kadamkuan", "Kankarbagh", "Khagaul", "Kumhrar", "Lohanipur", "Mahendru", "Maner", "Masaurhi", "Mithapur", "Nageshwar Colony", "Naubatpur", "Nehru Nagar", "New Jakkanpur", "Pataliputra Industrial Area", "Patliputra Colony", "Patna City", "Phulwari Sharif", "Rajendra Nagar", "Rajiv Nagar", "Ramkrishna Nagar", "Rukanpura", "Sandalpur", "Sheikhpura", "Shivpuri", "Sipara", "Srikrishna Puri", "Transport Nagar"],
            "Pune": ["Akurdi", "Aundh", "Balewadi", "Baner", "Bavdhan", "Charholi", "Chinchwad", "Dapodi", "Deccan Gymkhana", "Dhanori", "Fatima Nagar", "Hinjewadi", "Kalyani Nagar", "Kharadi", "Khadki", "Kothrud", "Loni Kalbhor", "Magarpatta", "Manjari", "Market Yard", "Narhe", "Navi Peth", "Pashan", "Pimple Saudagar", "Prabhat Road", "Pune Camp", "Sangamwadi", "Wakad", "Warje"],
            // Add more cities and areas as needed
        };

        // Function to populate area dropdown based on selected city
        function populateAreas() {
            const citySelect = document.getElementById("citySelect");
            const areaSelect = document.getElementById("areaSelect");
            const selectedCity = citySelect.value;

            // Clear previous area options
            areaSelect.innerHTML = '<option value="">Select Area</option>';

            // Populate area dropdown with static data
            if (selectedCity) {
                cityAreas[selectedCity].forEach(area => {
                    const option = document.createElement("option");
                    option.value = area;
                    option.textContent = area;
                    areaSelect.appendChild(option);
                });
            }
        }

        // Function to fetch hostel info by calling Google Apps Script
        function fetchHostelInfo() {
            const city = document.getElementById("citySelect").value;
            const area = document.getElementById("areaSelect").value;
            const hostelInfoDiv = document.getElementById("hostelInfo");

            if (city && area) {
                // Call Google Apps Script with static data
                const url = "https://script.google.com/macros/s/AKfycbwncsQopp2KatAhkTWEw_UVshw61k9-Jz3tp3NhXsnZV1t9_0zT9Cjin8McUoLoZpnpww/exec";
                fetch(`${url}?city=${encodeURIComponent(city)}&area=${encodeURIComponent(area)}`)
                    .then(response => response.json())
                    .then(data => {
                        // Display the received hostel information
                        if (data && data.data.length > 0) {
                            hostelInfoDiv.innerHTML = `<h2>Hostels in ${area}, ${city}</h2><ul>`;
                            data.data.forEach(hostel => {
                                hostelInfoDiv.innerHTML += `<li>${hostel.hostelName} - Phone: ${hostel.phoneNumber}</li>`;
                            });
                            hostelInfoDiv.innerHTML += `</ul>`;
                        } else {
                            hostelInfoDiv.innerHTML = "<p>No hostels found.</p>";
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching hostel information:', error);
                        hostelInfoDiv.innerHTML = "<p>Error fetching hostel information. Please try again later.</p>";
                    });
            } else {
                hostelInfoDiv.innerHTML = "<p>Please select both city and area.</p>";
            }
        }
    </script>

</body>
</html>
